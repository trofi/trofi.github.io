<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>To chromium</title>
        <link rel="stylesheet" type="text/css" href="../css/default.css" />
        <link rel="stylesheet" type="text/css" href="../css/code.css" />
        <link rel="stylesheet" type="text/css" href="../css/skylighting.css" />

        <link rel="alternate" type="application/atom+xml" href="../feed/atom.xml" title="Atom 1.0" />
        <link rel="alternate" type="application/rss+xml" href="../feed/rss.xml" title="RSS 2.0" />
        <link rel="shortcut icon" href="../images/favicon.ico" />
    </head>
    <body>
        <div id="navigation">
            <a href="../">home</a>
            <a href="../blog.html">blog</a>
            <a href="../log.html">log</a>
            <a href="../feed/atom.xml">atom</a>
            <a href="../feed/rss.xml">rss</a>
            <a href="../about.html">about</a>
            <a href="../contact.html">contact</a>
        </div>

        <div id="content">
            <h1>To chromium</h1>
            
                <div class="info">April 20, 2025</div>
            

            <h2 id="tldr">Tl;DR</h2>
<p>I switched from <code>firefox</code> to <code>chromium</code> as a primary web browser on my
desktop.</p>
<h2 id="on-firefox">On <code>firefox</code></h2>
<p>I was a happy <code>firefox</code> since it’s <code>1.5</code> release. Internet says it was
released in 2005. This made a 20-year run for me. The web changed so
much since then. Adobe Flash went away and web 2.0 <code>javascript</code>-heavy
applications took it’s place. At some point I had to start using content
filtering extensions to be able to browse the web.</p>
<p><code>firefox</code> was able to keep up with the times most of the time. It felt
like at some point UI became too sluggish. Subjectively <code>quantum</code> 2017
release made it snappy again.</p>
<p>Fast forward to 2025 <code>firefox</code> mostly meets my needs, but there are a
few performance warts I don’t know how to deal with:</p>
<ul>
<li>Some of web-based instance messengers are very slow in <code>firefox</code>: when
I switch to the tab it freezes the whole of <code>firefox</code> for a few
seconds (it happens every time I switch to a tab, not just for the
first time).</li>
<li>Branch selection (drop-down menu) at pull request creation time on
<code>github</code> is visibly slow on repositories with many branches (<code>200+</code>
in <code>nixpkgs</code>).</li>
<li><code>firefox</code> startup time on mostly empty user profiles on HDDs are very
slow: about tens of seconds.</li>
</ul>
<p>Over past few years I have encountered a few widespread bugs in <code>firefox</code>:</p>
<ul>
<li><code>100%</code> CPU usage on <code>HTTP3</code>: <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1749914" class="uri">https://bugzilla.mozilla.org/show_bug.cgi?id=1749914</a></li>
<li><code>tab crashes due to LLVM bug</code>: <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1741454" class="uri">https://bugzilla.mozilla.org/show_bug.cgi?id=1741454</a></li>
</ul>
<h2 id="on-chrome">On <code>chrome</code></h2>
<p>I already used <code>chrome</code> at work for about 10 years. And 3 years ago I
started using <code>chrome</code> on a <code>chromebook</code> laptop for some of personal
things. But for a personal desktop my strong preference prefer is not to
use proprietary software.</p>
<p>With a recent shift to AI and advertising at Mozilla I wondered what are
the alternatives to <code>firefox</code> there are if I should give <code>chromium</code> a
proper try.</p>
<h2 id="on-chromium">On <code>chromium</code></h2>
<p>After about 2 months using <code>chromium</code> I should say that it is very
pleasant to use. Subjectively fonts look a bit better in <code>chromium</code> and
most performance hiccups I encountered in <code>firefox</code> disappeared (but a
new one appeared, mentioned below).</p>
<p>Helper pages like <code>chrome://about</code>, <code>chrome://flags</code> and <code>chrome://gpu</code>
are a reasonable substitute for <code>firefox</code>’s <code>about:config</code>.</p>
<p>I also discovered a few bugs/warts/known-issues as well:</p>
<ul>
<li><p><code>wayland</code> backend is not enabled by default and needs either a flag
like <code>--enable-features=UseOzonePlatform --ozone-platform=wayland</code> or
an option selected at
<code>chrome://flags &gt; Preferred Ozone platform &gt; Wayland</code>.</p>
<p>While it’s a one-off setup it feels like <code>wayland</code> might not be the
primary target for <code>linux</code> desktops.</p></li>
<li><p><code>pdf</code> viewer is quite a bit slower than in <code>firefox</code>. 350-paged doc
make <code>chromium</code> visibly struggle to scroll around, might be a known
<a href="https://issues.chromium.org/issues/345117890" class="uri">https://issues.chromium.org/issues/345117890</a>.</p>
<p>I have to fall back to local viewers for larger docs.</p></li>
<li><p><code>chromium</code> syncs on disk somewhat frequently. There is a 15-years old
<a href="https://issues.chromium.org/issues/41198599" class="uri">https://issues.chromium.org/issues/41198599</a> that mentions it’s all
the actions user does are synced on dusk time to time. I don’t think
it’s a real problem for modern SSDs, but still it feel quite wasteful.</p></li>
<li><p><code>sway</code> sometimes crashes completely when I visit certain utility
provider sites with a message like:</p>
<pre><code>00:00:25.696 [sway/sway_text_node.c:110] cairo_image_surface_create failed: invalid value (typically too big) for the size of the input (surface, pattern, etc.)
00:00:25.696 [sway/sway_text_node.c:110] cairo_image_surface_create failed: invalid value (typically too big) for the size of the input (surface, pattern, etc.)
sway: render/pass.c:23: wlr_render_pass_add_texture: Assertion `box-&gt;x &gt;= 0 &amp;&amp; box-&gt;y &gt;= 0 &amp;&amp; box-&gt;x + box-&gt;width &lt;= options-&gt;texture-&gt;width &amp;&amp; box-&gt;y + box-&gt;height &lt;= options-&gt;texture-&gt;height' failed.</code></pre>
<p>There is a bunch of open bugs with related error messages. I looks
like those are usually <code>sway</code> or <code>wlroots</code> robustness bugs. <code>chromium</code>
is probably also at fault here trying to create surfaces of
unreasonable dimensions.</p>
<p>Installing <code>sway</code> and <code>wlroots</code> from <code>git</code> <code>master</code> fixed all crashes
for me.</p></li>
</ul>
<p>Have fun!</p>
        </div>
    </body>
</html>
