<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>cooling failure</title>
        <link rel="stylesheet" type="text/css" href="../css/default.css" />
        <link rel="stylesheet" type="text/css" href="../css/code.css" />
        <link rel="stylesheet" type="text/css" href="../css/skylighting.css" />

        <link rel="alternate" type="application/atom+xml" href="../feed/atom.xml" title="Atom 1.0" />
        <link rel="alternate" type="application/rss+xml" href="../feed/rss.xml" title="RSS 2.0" />
        <link rel="shortcut icon" href="../images/favicon.ico" />
    </head>
    <body>
        <div id="navigation">
            <a href="../">home</a>
            <a href="../blog.html">blog</a>
            <a href="../log.html">log</a>
            <a href="../feed/atom.xml">atom</a>
            <a href="../feed/rss.xml">rss</a>
            <a href="../about.html">about</a>
        </div>

        <div id="content">
            <h1>cooling failure</h1>
            
                <div class="info">February 25, 2023</div>
            

            <p>About 2 years ago I got my new desktop. It’s a 16-core AMD CPU with
128GB RAM. My plan was to compile A Lot :)</p>
<p>I was not sure how much of a heat sink I need for that machine. My
previous CPU had about 125W power consumption and could get away with
a silent rotary air cooler.</p>
<p>This machine seems to dissipate up to 150W and I was not sure if it’s a
peak value or some average that I could consistently exceed with heavy
workloads.</p>
<p>I decided to give water cooling system a try for the first time. I
expected it to be less noisy compared to rotary air ones.</p>
<p>When my desktop just arrived I was surprised to see that water cooling
system used not just one but two fans! (And also two more system fans).</p>
<p>When I powered the machine up for the first time I heard a nice low
frequency humming noise. It went up a bit when I applied 100% CPU load
workloads. It was not not too distracting but a bit disappointing that I
can hear when the machine is under the load or not.</p>
<p>2 years passed. I compiled a lot and caught many bugs in various
software projects. I had no issue with the hardware.</p>
<p>And one day my machine just powered off abruptly. I powered it on again.
I ran for 2-3 minutes, and shut off again. I was not able to power it on
later without a 30-minute delay. Initially I though about failed PSU as
the system did not complain about anything up to the very shutdown.</p>
<p>Next day I managed to get into <code>EFI</code> menu to look at CPU statistics.
<code>EFI</code> dashboard rendered the menacing temperature graph: it went from
60 degrees to 110 for a span of 5 minutes. Once the degree got to 110
machine was shut off.</p>
<p>Now that looked like a CPU overheat.</p>
<p>Water cooling systems are a bit more involved that just a radiator with
a fan. My one looked like that:</p>
<figure>
<img src="../posts.data/280-cooling-failure/00-diagram.jpg" alt="diagram" />
<figcaption aria-hidden="true">diagram</figcaption>
</figure>
<p>Here dotted line is the water flow. Fans blow the air up right into the
system case ceiling where a few small holes let it out. The system fans
(not drawn in picture) blow new air in from the right and blow it out
from the left.</p>
<p>In hind sight I think the radiator was positioned incorrectly and it
ought to be mounted vertically to align with the rest of air flow it the
system.</p>
<p>This is how radiator top looks like:</p>
<figure>
<img src="../posts.data/280-cooling-failure/01-radiator.jpg" alt="radiator" />
<figcaption aria-hidden="true">radiator</figcaption>
</figure>
<p>And this is how it looks like when I flip it to show fans (the pump is
already unscrewed):</p>
<figure>
<img src="../posts.data/280-cooling-failure/02-unscrewed-pump.jpg" alt="unscrewed pump" />
<figcaption aria-hidden="true">unscrewed pump</figcaption>
</figure>
<p>Here I pulled the rotary part of the pump. It’s a magnet in plastic
case. As I understand that way pump can be fully isolated from electric
wires and can be rotated by using just magnetic field:</p>
<figure>
<img src="../posts.data/280-cooling-failure/03-pulled-rotor.jpg" alt="pulled rotor" />
<figcaption aria-hidden="true">pulled rotor</figcaption>
</figure>
<p>If I screw pump back in here is how it’s wiring looks like: some kind of
epoxy covers most of wiring and electronics. As a result there is not
much to do unless we are to break that layer. I was not able to find the
replacement part in online shops. Looks special.</p>
<figure>
<img src="../posts.data/280-cooling-failure/04-closer-pump.jpg" alt="closer pump" />
<figcaption aria-hidden="true">closer pump</figcaption>
</figure>
<p>Here is the heat sink: it applies to the CPU and has two tubes that come
out of it. It has the wire (probably to measure temperature) but
otherwise is passive. All the buzzing is expected to happen in the
hanging pump.</p>
<figure>
<img src="../posts.data/280-cooling-failure/05-heatsink.jpg" alt="heat sink" />
<figcaption aria-hidden="true">heat sink</figcaption>
</figure>
<p>I was a bit disappointed by this cooling system and wanted to try
something simpler and more serviceable.</p>
<p>After a few day of fruitlessly trying to revive the pump I plugged this
thing instead:</p>
<figure>
<img src="../posts.data/280-cooling-failure/06-air-cooler.jpg" alt="air cooler" />
<figcaption aria-hidden="true">air cooler</figcaption>
</figure>
<p>Now all the fans in the system blow the air right-to-left including the
CPU ones. <code>EFI</code> shows that CPU temperature dropped down to 30.</p>
<p>I can’t distinguish the sound of idle system from sound fully loaded
system. Both are very quiet. We’ll see how it will change in 2 years.</p>
<p>I wonder if I was very unlucky with this water cooler or it’s a more
general pattern.</p>
        </div>
    </body>
</html>
